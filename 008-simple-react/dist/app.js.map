{"version":3,"sources":["webpack://simple-react/./src/Didact.js","webpack://simple-react/webpack/bootstrap","webpack://simple-react/webpack/runtime/define property getters","webpack://simple-react/webpack/runtime/hasOwnProperty shorthand","webpack://simple-react/webpack/runtime/make namespace object","webpack://simple-react/./src/index.jsx"],"names":["createElement","type","props","children","map","child","createTextElement","text","nodeValue","createDom","fiber","dom","document","createTextNode","updateDom","isEvent","key","startsWith","isProperty","isNew","prev","next","isGone","prevProps","nextProps","Object","keys","filter","forEach","name","eventType","toLowerCase","substring","removeEventListener","addEventListener","commitRoot","deletions","commitWork","wipRoot","currentRoot","domParentFiber","parent","domParent","effectTag","appendChild","alternate","commitDeletion","sibling","removeChild","render","element","container","nextUnitOfWork","workLoop","deadline","shouldYield","performUnitOfWork","timeRemaining","requestIdleCallback","isFunctionComponent","Function","updateFunctionComponent","updateHostComponent","nextFiber","wipFiber","hookIndex","hooks","reconcileChildren","useState","initial","oldHook","hook","state","queue","actions","action","setState","push","elements","index","oldFiber","prevSibling","length","newFiber","sameType","Counter","Didact","c","getElementById"],"mappings":"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","file":"app.js","sourcesContent":["function createElement(type, props, ...children) {\r\n  return {\r\n    type,\r\n    props: {\r\n      ...props,\r\n      children: children.map((child) =>\r\n        typeof child === \"object\" ? child : createTextElement(child)\r\n      ),\r\n    },\r\n  };\r\n}\r\n\r\nfunction createTextElement(text) {\r\n  return {\r\n    type: \"TEXT_ELEMENT\",\r\n    props: {\r\n      nodeValue: text,\r\n      children: [],\r\n    },\r\n  };\r\n}\r\n\r\nfunction createDom(fiber) {\r\n  const dom =\r\n    fiber.type == \"TEXT_ELEMENT\"\r\n      ? document.createTextNode(\"\")\r\n      : document.createElement(fiber.type);\r\n  updateDom(dom, {}, fiber.props);\r\n  return dom;\r\n}\r\n\r\nconst isEvent = (key) => key.startsWith(\"on\");\r\nconst isProperty = (key) => key !== \"children\" && !isEvent(key);\r\nconst isNew = (prev, next) => (key) => prev[key] !== next[key];\r\nconst isGone = (prev, next) => (key) => !(key in next);\r\nfunction updateDom(dom, prevProps, nextProps) {\r\n  //Remove old or changed event listeners\r\n  Object.keys(prevProps)\r\n    .filter(isEvent)\r\n    .filter((key) => !(key in nextProps) || isNew(prevProps, nextProps)(key))\r\n    .forEach((name) => {\r\n      const eventType = name.toLowerCase().substring(2);\r\n      dom.removeEventListener(eventType, prevProps[name]);\r\n    });\r\n\r\n  // Remove old properties\r\n  Object.keys(prevProps)\r\n    .filter(isProperty)\r\n    .filter(isGone(prevProps, nextProps))\r\n    .forEach((name) => {\r\n      dom[name] = \"\";\r\n    });\r\n\r\n  // Set new or changed properties\r\n  Object.keys(nextProps)\r\n    .filter(isProperty)\r\n    .filter(isNew(prevProps, nextProps))\r\n    .forEach((name) => {\r\n      dom[name] = nextProps[name];\r\n    });\r\n\r\n  // Add event listeners\r\n  Object.keys(nextProps)\r\n    .filter(isEvent)\r\n    .filter(isNew(prevProps, nextProps))\r\n    .forEach((name) => {\r\n      const eventType = name.toLowerCase().substring(2);\r\n      dom.addEventListener(eventType, nextProps[name]);\r\n    });\r\n}\r\n\r\nfunction commitRoot() {\r\n  deletions.forEach(commitWork);\r\n  commitWork(wipRoot.child);\r\n  currentRoot = wipRoot;\r\n  wipRoot = null;\r\n}\r\n\r\nfunction commitWork(fiber) {\r\n  if (!fiber) {\r\n    return;\r\n  }\r\n\r\n  let domParentFiber = fiber.parent;\r\n  while (!domParentFiber.dom) {\r\n    domParentFiber = domParentFiber.parent;\r\n  }\r\n  const domParent = domParentFiber.dom;\r\n\r\n  if (fiber.effectTag === \"PLACEMENT\" && fiber.dom != null) {\r\n    domParent.appendChild(fiber.dom);\r\n  } else if (fiber.effectTag === \"UPDATE\" && fiber.dom != null) {\r\n    updateDom(fiber.dom, fiber.alternate.props, fiber.props);\r\n  } else if (fiber.effectTag === \"DELETION\") {\r\n    commitDeletion(fiber, domParent);\r\n  }\r\n\r\n  commitWork(fiber.child);\r\n  commitWork(fiber.sibling);\r\n}\r\n\r\nfunction commitDeletion(fiber, domParent) {\r\n  if (fiber.dom) {\r\n    domParent.removeChild(fiber.dom);\r\n  } else {\r\n    commitDeletion(fiber.child, domParent);\r\n  }\r\n}\r\n\r\nfunction render(element, container) {\r\n  wipRoot = {\r\n    dom: container,\r\n    props: {\r\n      children: [element],\r\n    },\r\n    alternate: currentRoot,\r\n  };\r\n  deletions = [];\r\n  nextUnitOfWork = wipRoot;\r\n}\r\n\r\nlet nextUnitOfWork = null;\r\nlet currentRoot = null;\r\nlet wipRoot = null;\r\nlet deletions = null;\r\n\r\nfunction workLoop(deadline) {\r\n  let shouldYield = false;\r\n  while (nextUnitOfWork && !shouldYield) {\r\n    nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\r\n    shouldYield = deadline.timeRemaining() < 1;\r\n  }\r\n\r\n  if (!nextUnitOfWork && wipRoot) {\r\n    commitRoot();\r\n  }\r\n\r\n  requestIdleCallback(workLoop);\r\n}\r\n\r\nrequestIdleCallback(workLoop);\r\n\r\nfunction performUnitOfWork(fiber) {\r\n  const isFunctionComponent = fiber.type instanceof Function;\r\n  if (isFunctionComponent) {\r\n    updateFunctionComponent(fiber);\r\n  } else {\r\n    updateHostComponent(fiber);\r\n  }\r\n  if (fiber.child) {\r\n    return fiber.child;\r\n  }\r\n  let nextFiber = fiber;\r\n  while (nextFiber) {\r\n    if (nextFiber.sibling) {\r\n      return nextFiber.sibling;\r\n    }\r\n    nextFiber = nextFiber.parent;\r\n  }\r\n}\r\n\r\nlet wipFiber = null;\r\nlet hookIndex = null;\r\n\r\nfunction updateFunctionComponent(fiber) {\r\n  wipFiber = fiber;\r\n  hookIndex = 0;\r\n  wipFiber.hooks = [];\r\n  const children = [fiber.type(fiber.props)];\r\n  reconcileChildren(fiber, children);\r\n}\r\n\r\nfunction useState(initial) {\r\n  const oldHook =\r\n    wipFiber.alternate &&\r\n    wipFiber.alternate.hooks &&\r\n    wipFiber.alternate.hooks[hookIndex];\r\n  const hook = {\r\n    state: oldHook ? oldHook.state : initial,\r\n    queue: [],\r\n  };\r\n\r\n  const actions = oldHook ? oldHook.queue : [];\r\n  actions.forEach((action) => {\r\n    hook.state = action(hook.state);\r\n  });\r\n\r\n  const setState = (action) => {\r\n    hook.queue.push(action);\r\n    wipRoot = {\r\n      dom: currentRoot.dom,\r\n      props: currentRoot.props,\r\n      alternate: currentRoot,\r\n    };\r\n    nextUnitOfWork = wipRoot;\r\n    deletions = [];\r\n  };\r\n\r\n  wipFiber.hooks.push(hook);\r\n  hookIndex++;\r\n  return [hook.state, setState];\r\n}\r\n\r\nfunction updateHostComponent(fiber) {\r\n  if (!fiber.dom) {\r\n    fiber.dom = createDom(fiber);\r\n  }\r\n  reconcileChildren(fiber, fiber.props.children);\r\n}\r\n\r\nfunction reconcileChildren(wipFiber, elements) {\r\n  let index = 0;\r\n  let oldFiber = wipFiber.alternate && wipFiber.alternate.child;\r\n  let prevSibling = null;\r\n\r\n  while (index < elements.length || oldFiber != null) {\r\n    const element = elements[index];\r\n    let newFiber = null;\r\n\r\n    const sameType = oldFiber && element && element.type == oldFiber.type;\r\n\r\n    if (sameType) {\r\n      newFiber = {\r\n        type: oldFiber.type,\r\n        props: element.props,\r\n        dom: oldFiber.dom,\r\n        parent: wipFiber,\r\n        alternate: oldFiber,\r\n        effectTag: \"UPDATE\",\r\n      };\r\n    }\r\n\r\n    if (element && !sameType) {\r\n      newFiber = {\r\n        type: element.type,\r\n        props: element.props,\r\n        dom: null,\r\n        parent: wipFiber,\r\n        alternate: null,\r\n        effectTag: \"PLACEMENT\",\r\n      };\r\n    }\r\n\r\n    if (oldFiber && !sameType) {\r\n      oldFiber.effectTag = \"DELETION\";\r\n      deletions.push(oldFiber);\r\n    }\r\n\r\n    if (oldFiber) {\r\n      oldFiber = oldFiber.sibling;\r\n    }\r\n\r\n    if (index === 0) {\r\n      wipFiber.child = newFiber;\r\n    } else if (element) {\r\n      prevSibling.sibling = newFiber;\r\n    }\r\n\r\n    prevSibling = newFiber;\r\n    index++;\r\n  }\r\n}\r\n\r\nexport default {\r\n  createElement,\r\n  render,\r\n  useState,\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Didact from './Didact'\r\n\r\n// 测试代码-------------------------------------------------------------\r\n/** @jsx Didact.createElement */\r\nfunction Counter() {\r\n  const [state, setState] = Didact.useState(1);\r\n  return <h1 onClick={() => setState((c) => c + 1)}>Count: {state}</h1>;\r\n}\r\nconst element = <Counter />;\r\nconst container = document.getElementById(\"root\");\r\nDidact.render(element, container);\r\n"],"sourceRoot":""}